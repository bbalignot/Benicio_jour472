read.csv("arcos.csv")
read.csv(arcos.csv)
read.csv("C:\Users\benic\OneDrive\Documents\GitHub\Benicio_jour472\lab_07\data\arcos.csv")
library(janitor)
library(janitor)
library(tidyverse)
read.csv("arcos.csv")
read.csv("county_population_2014.csv")
read.csv("arcos")
getwd
getwd()
list.files()
read.csv(data, "arcos.csv")
read.csv("/Users/benic/OneDrive/Documents/GitHub/Benicio_jour472/lab_07/data/arcos.csv")
read.csv("/Users/benic/OneDrive/Documents/GitHub/Benicio_jour472/lab_07/data/county_population_2014.csv")
read.csv("/Users/benic/OneDrive/Documents/GitHub/Benicio_jour472/lab_07/data/state_crosswalk.csv")
read.csv("/Users/benic/OneDrive/Documents/GitHub/Benicio_jour472/lab_07/data/state_population_2014.csv")
arcos_data <- read.csv("/Users/benic/OneDrive/Documents/GitHub/Benicio_jour472/lab_07/data/arcos.csv")
county_pop_2014 <- read.csv("/Users/benic/OneDrive/Documents/GitHub/Benicio_jour472/lab_07/data/county_population_2014.csv")
state_crosswalk <- read.csv("/Users/benic/OneDrive/Documents/GitHub/Benicio_jour472/lab_07/data/state_crosswalk.csv")
state_pop_2014 <- read.csv("/Users/benic/OneDrive/Documents/GitHub/Benicio_jour472/lab_07/data/state_population_2014.csv")
View(arcos_data)
View(county_pop_2014)
arcos_data %>%
clean_names()
arcos_data
clean_names()
arcos_data <- read.csv("/Users/benic/OneDrive/Documents/GitHub/Benicio_jour472/lab_07/data/arcos.csv") %>%
clean_names()
arcos_data <- read.csv("/Users/benic/OneDrive/Documents/GitHub/Benicio_jour472/lab_07/data/arcos.csv")
cl
arcos_data <- read.csv("/Users/benic/OneDrive/Documents/GitHub/Benicio_jour472/lab_07/data/arcos.csv")
arcos_data <- read.csv("/Users/benic/OneDrive/Documents/GitHub/Benicio_jour472/lab_07/data/arcos.csv")
arcos_data %>%
library(tidyverse)
arcos_data <- read.csv("/Users/benic/OneDrive/Documents/GitHub/Benicio_jour472/lab_07/data/arcos.csv")
county_pop_2014 <- read.csv("/Users/benic/OneDrive/Documents/GitHub/Benicio_jour472/lab_07/data/county_population_2014.csv")
state_crosswalk <- read.csv("/Users/benic/OneDrive/Documents/GitHub/Benicio_jour472/lab_07/data/state_crosswalk.csv")
state_pop_2014 <- read.csv("/Users/benic/OneDrive/Documents/GitHub/Benicio_jour472/lab_07/data/state_population_2014.csv")
arcos_data <- read.csv("/Users/benic/OneDrive/Documents/GitHub/Benicio_jour472/lab_07/data/arcos.csv")
county_pop_2014 <- read.csv("/Users/benic/OneDrive/Documents/GitHub/Benicio_jour472/lab_07/data/county_population_2014.csv")
state_crosswalk <- read.csv("/Users/benic/OneDrive/Documents/GitHub/Benicio_jour472/lab_07/data/state_crosswalk.csv")
state_pop_2014 <- read.csv("/Users/benic/OneDrive/Documents/GitHub/Benicio_jour472/lab_07/data/state_population_2014.csv")
###
# Total population for each Maryland county
# County identified by GEOID (a 5-digit code), not name
###
maryland_county_population <- read_rds("assets/data/maryland_county_population.rds")
###
# A lookup table that shows the name of each Maryland county, paired with GEOID
###
maryland_county_lookup_table <- read_rds("assets/data/maryland_county_lookup_table.rds")
###
# Total population for each Maryland county, EXCEPT for Prince George's County
# County identified by GEOID (a 5-digit code), not name
###
maryland_county_population_no_pg <- read_rds("assets/data/maryland_county_population_no_pg.rds")
###
# Display the tables
###
maryland_county_population
maryland_county_lookup_table
maryland_county_population_no_pg
updated_maryland_county_population <- maryland_county_lookup_table %>%
inner_join(maryland_county_population, by="geoid")
updated_maryland_county_population
View(maryland_county_population)
View(maryland_county_lookup_table)
View(maryland_county_population_no_pg)
View(maryland_county_population)
View(state_crosswalk)
colnames(state_crosswalk) <- c("state_abbv", "state")
View(state_crosswalk)
View(state_crosswalk)
View(state_crosswalk)
updated_maryland_county_population_no_pg <- maryland_county_lookup_table %>%
inner_join(maryland_county_population_no_pg, by="geoid")
updated_maryland_county_population_no_pg
if (knitr::is_html_output())
knitr::include_graphics("assets/inner-join.gif")
# ![inner join](assets/inner-join.gif){width="100%"}
updated_maryland_county_population_no_pg <- maryland_county_lookup_table %>%
left_join(maryland_county_population_no_pg, by="geoid")
updated_maryland_county_population_no_pg
updated_maryland_county_population_no_pg <- maryland_county_lookup_table %>%
anti_join(maryland_county_population_no_pg, by="geoid")
updated_maryland_county_population_no_pg
###
# Total population for each top-10 largest Maryland county
# County identified by GEOID (a 5-digit code) and name
###
maryland_large_county_population <- read_rds("assets/data/maryland_large_county_population.rds")
###
# Total population for all other Maryland counties
# County identified by GEOID (a 5-digit code) and name
###
maryland_small_county_population <- read_rds("assets/data/maryland_small_county_population.rds")
# Display
maryland_large_county_population
maryland_small_county_population
all_county_population <- maryland_small_county_population %>%
bind_rows(maryland_large_county_population)
all_county_population
library(janitor)
library(tidyverse)
arcos_data <- read.csv("/Users/benic/OneDrive/Documents/GitHub/Benicio_jour472/lab_07/data/arcos.csv")
county_pop_2014 <- read.csv("/Users/benic/OneDrive/Documents/GitHub/Benicio_jour472/lab_07/data/county_population_2014.csv")
state_crosswalk <- read.csv("/Users/benic/OneDrive/Documents/GitHub/Benicio_jour472/lab_07/data/state_crosswalk.csv")
state_pop_2014 <- read.csv("/Users/benic/OneDrive/Documents/GitHub/Benicio_jour472/lab_07/data/state_population_2014.csv")
View(arcos_data)
View(county_pop_2014)
colnames(arcos_data)[1] <- ("geoid")
updated_arcos_data <- arcos_data %>%
inner_join(county_pop_2014, by="geoid")
View(updated_arcos_data)
updated_arcos_data %>%
summary()
updated_arcos_data %>%
select("geoid", "buyer_county", "county_name", "year", "total_pills") %>%
updated_arcos_data %>%
select("geoid", "buyer_county", "county_name", "year", "total_pills")
updated_arcos_data %>%
group_by(geoid, buyer_county, buyer_state) %>%
summarise(
total_pills = sum(total_pills)
)
updated_arcos_data %>%
group_by(geoid, buyer_county, buyer_state) %>%
summarise(
total_pills = sum(total_pills)
) %>%
mutate(pills_per_person = total_pills/total_population_2014)
updated_arcos_data %>%
group_by(geoid, buyer_county, buyer_state) %>%
summarise(
total_pills = sum(total_pills)
) %>%
mutate(pills_per_person = total_pills/total_population_2014) %>%
arrange(desc(pills_per_person))
updated_arcos_data %>%
group_by(geoid, buyer_county, buyer_state) %>%
summarise(
total_pills = sum(total_pills)
) %>%
updated_arcos_data %>%
group_by(geoid, buyer_county, buyer_state) %>%
summarise(
total_pills = sum(total_pills)
)
updated_arcos_data %>%
group_by(geoid, buyer_county, buyer_state, total_population_2014) %>%
summarise(
total_pills = sum(total_pills)
) %>%
mutate(pills_per_person = total_pills/total_population_2014) %>%
arrange(desc(pills_per_person))
